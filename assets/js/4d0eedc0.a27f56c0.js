"use strict";(self.webpackChunkvcard_4_docs=self.webpackChunkvcard_4_docs||[]).push([[6191],{3905:(e,n,r)=>{r.d(n,{Zo:()=>s,kt:()=>d});var t=r(7294);function a(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function o(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function p(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?o(Object(r),!0).forEach((function(n){a(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function i(e,n){if(null==e)return{};var r,t,a=function(e,n){if(null==e)return{};var r,t,a={},o=Object.keys(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||(a[r]=e[r]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var l=t.createContext({}),m=function(e){var n=t.useContext(l),r=n;return e&&(r="function"==typeof e?e(n):p(p({},n),e)),r},s=function(e){var n=m(e.components);return t.createElement(l.Provider,{value:n},e.children)},c="mdxType",y={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},u=t.forwardRef((function(e,n){var r=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,s=i(e,["components","mdxType","originalType","parentName"]),c=m(r),u=a,d=c["".concat(l,".").concat(u)]||c[u]||y[u]||o;return r?t.createElement(d,p(p({ref:n},s),{},{components:r})):t.createElement(d,p({ref:n},s))}));function d(e,n){var r=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var o=r.length,p=new Array(o);p[0]=u;var i={};for(var l in n)hasOwnProperty.call(n,l)&&(i[l]=n[l]);i.originalType=e,i[c]="string"==typeof e?e:a,p[1]=i;for(var m=2;m<o;m++)p[m]=r[m];return t.createElement.apply(null,p)}return t.createElement.apply(null,r)}u.displayName="MDXCreateElement"},2438:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>p,default:()=>y,frontMatter:()=>o,metadata:()=>i,toc:()=>m});var t=r(7462),a=(r(7294),r(3905));const o={title:"Creating a vCard",sidebar_position:2},p=void 0,i={unversionedId:"getting-started/tutorial/creating-vcard",id:"getting-started/tutorial/creating-vcard",title:"Creating a vCard",description:"- The following is a vCard containing information of the vCard specification",source:"@site/docs/getting-started/tutorial/creating-vcard.md",sourceDirName:"getting-started/tutorial",slug:"/getting-started/tutorial/creating-vcard",permalink:"/vcard4/getting-started/tutorial/creating-vcard",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Creating a vCard",sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Introduction",permalink:"/vcard4/getting-started/tutorial/intro"},next:{title:"Creating an XML vCard",permalink:"/vcard4/getting-started/tutorial/creating-xmlvcard"}},l={},m=[{value:"Short overview of vCards",id:"short-overview-of-vcards",level:3},{value:"Creating a single content line",id:"creating-a-single-content-line",level:3},{value:"Creating the rest of Simon&#39;s vCard",id:"creating-the-rest-of-simons-vcard",level:3}],s={toc:m},c="wrapper";function y(e){let{components:n,...r}=e;return(0,a.kt)(c,(0,t.Z)({},s,r,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"The following is a vCard containing information of the vCard specification\nauthor, ",(0,a.kt)("strong",{parentName:"p"},"Simon Perreault"),"."),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre"},'BEGIN:VCARD\nVERSION:4.0\nFN:Simon Perreault\nN:Perreault;Simon;;;ing. jr,M.Sc.\nBDAY:--0203\nANNIVERSARY:20090808T1430-0500\nGENDER:M\nLANG;PREF=1:fr\nLANG;PREF=2:en\nORG;TYPE=work:Viagenie\nADR;TYPE=work:;Suite D2-630;2875 Laurier;Quebec;QC;G1V 2M2;Canada\nTEL;VALUE=uri;TYPE="work,voice";PREF=1:tel:+1-418-656-9254;ext=102\nTEL;VALUE=uri;TYPE="work,cell,voice,video,text":tel:+1-418-262-6501\nEMAIL;TYPE=work:simon.perreault@viagenie.ca\nGEO;TYPE=work:geo:46.772673,-71.282945\nKEY;TYPE=work:http://www.viagenie.ca/simon.perreault/simon.asc\nTZ:-0500\nURL;TYPE=home:http://nomis80.org\nEND:VCARD\n'))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"In this tutorial, we will recreate Simon's vCard using ",(0,a.kt)("strong",{parentName:"p"},"vcard4"),"."))),(0,a.kt)("h3",{id:"short-overview-of-vcards"},"Short overview of vCards"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"A vCard is divided into content lines each containing a ",(0,a.kt)("strong",{parentName:"p"},"property"),", its\n",(0,a.kt)("strong",{parentName:"p"},"parameters"),", if it has any, and finally, its ",(0,a.kt)("strong",{parentName:"p"},"value"),". An example of a\ncontent line from Simon's vCard would be:"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre"},"GEO;TYPE=work:geo:46.772673,-71.282945\n"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"From the content line highlighted above, the ",(0,a.kt)("em",{parentName:"p"},"property")," is ",(0,a.kt)("inlineCode",{parentName:"p"},"GEO"),", the\n",(0,a.kt)("em",{parentName:"p"},"parameter")," (it only has one), is ",(0,a.kt)("inlineCode",{parentName:"p"},"TYPE=work")," and the ",(0,a.kt)("em",{parentName:"p"},"value")," is\n",(0,a.kt)("inlineCode",{parentName:"p"},"geo:46.772673,-71.282945"),"."))),(0,a.kt)("h3",{id:"creating-a-single-content-line"},"Creating a single content line"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Let us first create that single content line using ",(0,a.kt)("em",{parentName:"p"},"vcard4"),".")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"First off, we import the classes needed from ",(0,a.kt)("inlineCode",{parentName:"p"},"vcard4"),"."),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-js",metastring:"title=ESM",title:"ESM"},'import {\n  GeoProperty,\n  TypeParameter,\n  URIType,\n  ParameterValueType,\n} from "vcard4";\n')),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-js",metastring:"title=commonjs",title:"commonjs"},'const {\n  GeoProperty,\n  TypeParameter,\n  URIType,\n  ParameterValueType,\n} = require("vcard4");\n')),(0,a.kt)("admonition",{parentName:"li",type:"tip"},(0,a.kt)("p",{parentName:"admonition"},"As you have probably already noticed, the naming of the classes is quite\nintuitive: just add 'property', 'parameter' or 'type' to the name depending on\nwhether it's a property, parameter or value type, convert it to PascalCase, et\nvoil\xe0!"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Then let's work our way up, by creating the value first."),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-js"},'const geoValue = new URIType("geo:46.772673,-71.282945");\n'))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Then the parameter."),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-js"},'const typeParameterValue = new ParameterValueType("work");\n\nconst geoTypeParameter = new TypeParameter(\n  "geoparameter",\n  typeParameterValue,\n);\n'))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Finally, the property."),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const geo = new GeoProperty([geoTypeParameter], geoValue);\n"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"And that's it, we have created our first content line!"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-js"},'import {\n  GeoProperty,\n  TypeParameter,\n  URIType,\n  ParameterValueType,\n} from "vcard4";\n\n//or if you\'re using commonjs\n//const { GeoProperty, TypeParameter, URIType, ParameterValueType } = require(\'vcard4\');\n\nconst geoValue = new URIType("geo:46.772673,-71.282945");\n\nconst typeParameterValue = new ParameterValueType("work");\n\nconst geoTypeParameter = new TypeParameter(\n  "geoparameter",\n  typeParameterValue,\n);\n\nconst geo = new GeoProperty([geoTypeParameter], geoValue);\n'))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"If we want to see how it looks like, i.e. it's representation on a vCard, we\nmay call the ",(0,a.kt)("inlineCode",{parentName:"p"},"repr")," method. It returns a string, which we can log to the\nconsole in order to see."),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-js"},"console.log(geo.repr());\n\n//GEO;TYPE=work:geo:46.772673,-71.282945\n")))),(0,a.kt)("h3",{id:"creating-the-rest-of-simons-vcard"},"Creating the rest of Simon's vCard"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"The rest of the properties are created in much the same way as we did the\n",(0,a.kt)("inlineCode",{parentName:"p"},"GEO")," property above."),(0,a.kt)("admonition",{parentName:"li",type:"info"},(0,a.kt)("p",{parentName:"admonition"},(0,a.kt)("strong",{parentName:"p"},"vcard4")," treats ",(0,a.kt)("inlineCode",{parentName:"p"},"BEGIN"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"VERSION")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"END")," properties as special. We do\nnot create them ourselves; the library will do it for us."))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"After creating all the properties, we shall assemble them into a complete\nvCard using the ",(0,a.kt)("inlineCode",{parentName:"p"},"VCARD")," class, as we'll see below."),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-js"},'import {\n  TextType,\n  TextListType,\n  DateTimeType,\n  IntegerType,\n  LanguageTagType,\n  URIType,\n  SexType,\n  SpecialValueType,\n  ParameterValueType,\n  ValueParameter,\n  PrefParameter,\n  TypeParameter,\n  FNProperty,\n  NProperty,\n  BdayProperty,\n  AnniversaryProperty,\n  GenderProperty,\n  AdrProperty,\n  TelProperty,\n  EmailProperty,\n  LangProperty,\n  TzProperty,\n  GeoProperty,\n  OrgProperty,\n  URLProperty,\n  KeyProperty,\n  VCARD,\n} from "vcard4";\n\n//FN property\nconst fn = new FNProperty([], new TextType("Simon Perreault"));\n\n//N property\nconst nArr = new Array(5);\nnArr[0] = new TextType("Perreault");\nnArr[1] = new TextType("Simon");\nnArr[4] = new TextListType([new TextType("ing. jr"), new TextType("M.Sc.")]);\nconst n = new NProperty([], new SpecialValueType("nproperty", nArr));\n\n// BDAY property\nconst bday = new BdayProperty(\n  [],\n  new DateTimeType("dateandortime", "--0203"),\n);\n\n// ANNIVERSARY property\nconst anniversary = new AnniversaryProperty(\n  [],\n  new DateTimeType("dateandortime", "20090808T1430-0500"),\n);\n\n// GENDER property\nconst gender = new GenderProperty([], new SexType("M"));\n\n// LANG properties\nconst lang1 = new LangProperty(\n  [new PrefParameter(new IntegerType(1))],\n  new LanguageTagType("fr"),\n);\nconst lang2 = new LangProperty(\n  [new PrefParameter(new IntegerType(2))],\n  new LanguageTagType("en"),\n);\n\n// ORG property\nconst org = new OrgProperty(\n  [new TypeParameter("orgproperty", new ParameterValueType("work"))],\n  new SpecialValueType("orgproperty", [new TextType("Viagenie")]),\n);\n\n// ADR property\nconst aArr = new Array(7);\naArr[1] = new TextType("Suite D2-630");\naArr[2] = new TextType("2875 Laurier");\naArr[3] = new TextType("Quebec");\naArr[4] = new TextType("QC");\naArr[5] = new TextType("G1V 2M2");\naArr[6] = new TextType("Canada");\nconst adr = new AdrProperty(\n  [new TypeParameter("adrproperty", new ParameterValueType("work"))],\n  new SpecialValueType("adrproperty", aArr),\n);\n\n// TEL properties\nconst tel1 = new TelProperty(\n  [\n    new ValueParameter(new URIType("tel:+1-418-656-9254;ext=102")),\n    new TypeParameter("telproperty", [\n      new ParameterValueType("work"),\n      new ParameterValueType("voice"),\n    ]),\n    new PrefParameter(new IntegerType(1)),\n  ],\n  new URIType("tel:+1-418-656-9254;ext=102"),\n);\n\nconst tel2 = new TelProperty(\n  [\n    new ValueParameter(new URIType("tel:+1-418-262-6501")),\n    new TypeParameter("telproperty", [\n      new ParameterValueType("work"),\n      new ParameterValueType("cell"),\n      new ParameterValueType("voice"),\n      new ParameterValueType("video"),\n      new ParameterValueType("text"),\n    ]),\n  ],\n  new URIType("tel:+1-418-262-6501"),\n);\n\n// EMAIL property\nconst email = new EmailProperty(\n  [new TypeParameter("emailproperty", new ParameterValueType("work"))],\n  new TextType("simon.perreault@viagenie.ca"),\n);\n\n// GEO property\nconst geo = new GeoProperty(\n  [new TypeParameter("geoproperty", new ParameterValueType("work"))],\n  new URIType("geo:46.772673,-71.282945"),\n);\n\n// KEY property\nconst key = new KeyProperty(\n  [new TypeParameter("keyproperty", new ParameterValueType("work"))],\n  new URIType("http://www.viagenie.ca/simon.perreault/simon.asc"),\n);\n\n// TZ property\nconst tz = new TzProperty([], new DateTimeType("utcoffset", "-0500"));\n\n// URL property\nconst url = new URLProperty(\n  [new TypeParameter("urlproperty", new ParameterValueType("home"))],\n  new URIType("http://nomis80.org"),\n);\n\n// assembling all the properties into a vCard\nconst vc = new VCARD([\n  fn,\n  n,\n  bday,\n  anniversary,\n  gender,\n  lang1,\n  lang2,\n  org,\n  adr,\n  tel1,\n  tel2,\n  email,\n  geo,\n  key,\n  tz,\n  url,\n]);\n'))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Calling the ",(0,a.kt)("inlineCode",{parentName:"p"},"repr")," method on the created ",(0,a.kt)("inlineCode",{parentName:"p"},"VCARD")," object will return Simon's\nvCard as a string, which you can then write to a file, or whatever."),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-js"},"vc.repr();\n")),(0,a.kt)("admonition",{parentName:"li",type:"tip"},(0,a.kt)("p",{parentName:"admonition"},"If you want to write it to a file, you may use ",(0,a.kt)("strong",{parentName:"p"},"node"),"'s ",(0,a.kt)("inlineCode",{parentName:"p"},"fs")," api."),(0,a.kt)("pre",{parentName:"admonition"},(0,a.kt)("code",{parentName:"pre",className:"language-js"},'import fs from "fs";\n\nawait fs.promises.writeFile("simon_perreault.vcf", vc.repr());\n'))))))}y.isMDXComponent=!0}}]);